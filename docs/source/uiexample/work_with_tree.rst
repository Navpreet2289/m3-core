Работа с деревьями
==================

1) ExtTree
----------

    .. autoclass:: m3.ui.ext.containers.trees.ExtTree

Атрибут ``nodes``, содержит типизированный список узлов. Каждый элемент этого списка должен быть
экземпляром ``ExtTreeNode``.

Свойство ``columns`` содержит список колонок. Пример добавления колонок: ::

    tree = ExtTree(title='Одноколоночное дерево',url='/ui/base-tree-data')
    # Первый вариант
    col = ExtGridColumn(header=u'Имя', data_index = 'fname', width=140)
    col.column_renderer = renderer
    tree.columns.append(col)
    # Второй
    tree.add_column(header=u'Адрес', data_index = 'adress', width=140)

Атрибут ``url``, хранит ``URL``, с которого должны придти данные.

Флаг ``drag_drop``, разрешает(запрещает) Drag&Drop. По умолчанию Drag&Drop выключен.

Флаг ``custom_load`` отвечает за режим подгрузки данных в дерево. Если выставлен, то
всегда подгружаются уровни дочерних элементов, в то время как дочерние элементы уже подгружены.
По умолчанию выставлен ``False``.

Атрибут ``allow_container_drop`` отвечает за разрешение перетаскивать элементы в корень. По умолчания разрешено.

Атрибут ``allow_parent_insert`` отвечает за разрешение вставки узлов между родительскими элементами. По умолчанию запрещено.

Флаги ``enable_drop`` и ``enabled_drag`` отвечают за разрешение дропить и драгить элементы.

Атрибут ``plugins`` содержит список плагинов.

Также присутствуют методы для добавления колонок. Они идентичны методам в гридах.

Иллюстрация ``ExtTree``:

    .. image:: /images/ui-example/extTree.png

2) ExtObjectTree
----------------

    .. autoclass:: m3.ui.ext.panels.trees.ExtObjectTree

    .. image:: /images/ui-example/objecttreeexample.png

Является наследником ``ExtTree``.

Содержит ``ExtToolBar`` с кнопками **Изменить**, **Удалить**, **Обновить** и меню **Добавить** с элементами
**Новый в корне**  и **Новый дочерний**. Для того, чтобы активировать контролы на ``ExtToolBar``-е необходимо
задать атрибуты ``action_edit``, ``action_delete``, ``action_data`` и ``action_new`` соответственно.

    .. image:: /images/ui-example/treetopbar_new.png

Существует возможность редактирования и удаления элемента, использую контекстное меню дерева( полная аналогия с гридом).

Атрибут ``folder_sort`` - признак сортировки папок. Если ``True``, то папки всегда будут выше простых элементов.
Иначе, сортируются как элементы. По умолчанию установлена сортировка.

Если атрибут ``incremental_update`` равен ``True``, то после редактирования и добавления обновляется только тот
узел, в котором произошли изменения. По умолчанию ``False``.