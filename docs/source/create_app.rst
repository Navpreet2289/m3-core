.. _create_app::

Создание приложения
===================

Для того, чтобы создать приложение необходимо добавить пустой Python пакет во внутренней директории проекта.
Например: ::

    /some_project
        ...
        /src
            ...
                /some_project
                    /how_to_create_app_in_M3
            ...
        ...

После этого, необходимо создать каркас приложения.

Каркас приложения
-----------------

Каркас приложения выглядит следующим образом:

    * ``__init__.py``
    	Файл, определяющий каталог как `package` (пакет). Как правило остается пустым.
    * ``ui.py``
    	Файл форм, в этом файле описываются все существующие формы приложения
    * ``actions.py``
    	Здесь находится вся логика приемки запроса, обработки и отдачи результата.
    	Имеющиеся экшены, паки необходимо описывать здесь.
    * ``models.py``
    	Файл моделей, в этом файле описываются необходимые модели для текущего приложения
    * ``app_meta.py``
    	В этом файле регистрируется контроллер для приложения, регистрируются имеющие паки.
    	А так же экшены, паки либо ссылки (урлы), которые будут отображаться на web-desktope
    	в пуске "Меню", в topbar'е, и в рабочей области (область ярлыков в windows)
    * ``api.py``
    	Здесь необходимо описывать общие реюзабельные функции и классы, которые как правило
    	используются в экшенах.

Настоятельно рекомендуется придерживаться данной конвенции имен.

Регистрация приложения
----------------------

Для того, чтобы подключить приложение к проекту необходимо добавить строку с названием пакета к кортежу ``INSTALLED_APPS``
в конфигурационном файле ``settings.py``. Пример кода: ::

    INSTALLED_APPS = (
        ..., # здесь какие-то другие приложения
        'how_to_create_app_in_M3' # название должно совпадать с именем пакета в котором расположено приложение.
        ..., # и здесь возможно какие-то другие приложения
    )

Создание таблиц в БД
--------------------

Прежде рекомендуется ознакомится и требуется установить `South <http://south.readthedocs.org/>`_.

Если в приложении описаны модели, то необходимо создать таблицы в БД. Для этого необходимо выполнить следующие строки
в командной строке (во внутренней директории проекта): ::

    python manage.py schemamigration how_to_create_app_in_M3 --initial
    python manage.py migrate how_to_create_app_in_M3

Все готово к работе. Пример создания приложения :doc:`dict_example`