.. _m3_autologin:

Автоматический вход в систему (m3_autologin)
==============================

Данное приложение предназначено для организации автоматического входа
в рабочий стол пользователя без ввода аутентификационных данных на странице
логина прикладного приложения.

На данный момент, функциональность модуля позволяет организовать вход в рабочий
стол пользователя без ввода пароля в принципе для целей удобного использования
демонстрационных экземпляров приложений.

Для организации автоматического входа в прикладное приложение необходимо:

* Указать настройки автовхода в conf-файле приложения;
* Вставить в settings.py вызов функции регистрации настроек автовхода.

Настройки автовхода указываются в секции [auto-login] conf-файла приложения::

    [auto-login]
    admin-user = admin, /
    demo-user = demo, /
    
Именем параметра из секции [auto-login] является наименование варианта автовхода 
в систему, а значением разделенное символом запятая (",") пара 
<логин пользователя>, <url для редиректа после входа>. 

Основные шаги при работе механизма автовхода следующие:

* в систему поступает запрос по URL ``http://<domain>/auto-login/abc``;
* если в конфигурации автовхода существует вариант входа с именем abc, то 
система автоматически авторизует соответствующего пользователя и выполняет 
редирект на соответствующий URL.

В settings.py прикладного приложения необходимо добавить строки::
    
    
    from m3.contrib.m3_autologin import read_autologin_config
    
    # ...
    
    #===============================================================================
    # Чтение конфигурации автовхода в систему
    #===============================================================================
    M3_AUTOLOGIN_CONF = read_autologin_config(conf)
    
    # ... 